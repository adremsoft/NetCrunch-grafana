{"version":3,"sources":["../../../src/datasource/directives/ncFocus.directive.js"],"names":["angular","directivesModule","PRIVATE_PROPERTIES","timeout","Symbol","parse","NC_FOCUS_DI","NcFocus","$timeout","$parse","restrict","scope","$scope","$element","$attributes","self","focusMeModel","ncFocus","focusChild","ncFocusChild","$watch","value","Number","isInteger","children","focus","assign","module","directive"],"mappings":"+UAQOA,O,qCACEC,gB,SAAAA,gB,ugBAGPC,kB,CAAqB,CACnBC,QAASC,OAAO,SAAP,CADU,CAEnBC,MAAOD,OAAO,OAAP,CAFY,C,CAIrBE,W,uBAEIC,O,YAEJ,iBAAYC,CAAZ,CAAsBC,CAAtB,CAA8B,+BAC5B,KAAKC,QAAL,CAAgB,GADY,CAE5B,KAAKC,KAAL,GAF4B,CAG5B,KAAKT,mBAAmBC,OAAxB,EAAmCK,CAHP,CAI5B,KAAKN,mBAAmBG,KAAxB,EAAiCI,CAClC,C,wDAEIG,C,CAAQC,C,CAAUC,C,CAAa,CAClC,GACEC,GAAO,IADT,CAEEC,EAAeD,EAAKb,mBAAmBG,KAAxB,EAA+BS,EAAYG,OAA3C,CAFjB,CAGEC,EAA2C,IAA5B,IAAYC,YAAb,EAC8B,EAA7B,KAAYA,YADd,EAC6CL,EAAYK,YADzD,CACyE,IAJxF,CAMAP,EAAOQ,MAAP,CAAcN,EAAYG,OAA1B,CAAmC,SAACI,CAAD,CAAW,CACxC,MADwC,EAE1CN,EAAKb,mBAAmBC,OAAxB,EAAiC,UAAM,CACjCmB,OAAOC,SAAP,CAAiBL,CAAjB,CADiC,CAEnCL,EAAS,CAAT,EAAYW,QAAZ,CAAqBN,CAArB,EAAiCO,KAAjC,EAFmC,CAInCZ,EAAS,CAAT,EAAYY,KAAZ,EAJmC,CAMrCT,EAAaU,MAAb,CAAoBd,CAApB,IACD,CAPD,CAOG,CAPH,CASH,CAXD,CAYD,C,eAGHZ,QACG2B,MADH,CACU1B,gBADV,EAEK2B,SAFL,CAEe,SAFf,WAE8BtB,WAF9B,EAE2C,SAACE,CAAD,CAAWC,CAAX,QAAsB,IAAIF,QAAJ,CAAYC,CAAZ,CAAsBC,CAAtB,CAAtB,CAF3C,G","file":"ncFocus.directive.js","sourcesContent":["/**\r\n * @license\r\n * Copyright AdRem Software. All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an Apache License, Version 2.0 that can be\r\n * found in the LICENSE file.\r\n */\r\n\r\nimport angular from 'angular';\r\nimport { directivesModule } from '../common';\r\n\r\nconst\r\n  PRIVATE_PROPERTIES = {\r\n    timeout: Symbol('timeout'),\r\n    parse: Symbol('parse')\r\n  },\r\n  NC_FOCUS_DI = ['$timeout', '$parse'];\r\n\r\nclass NcFocus {\r\n\r\n  constructor($timeout, $parse) {\r\n    this.restrict = 'A';\r\n    this.scope = false;\r\n    this[PRIVATE_PROPERTIES.timeout] = $timeout;\r\n    this[PRIVATE_PROPERTIES.parse] = $parse;\r\n  }\r\n\r\n  link($scope, $element, $attributes) {\r\n    const\r\n      self = this,\r\n      focusMeModel = self[PRIVATE_PROPERTIES.parse]($attributes.ncFocus),\r\n      focusChild = (($attributes.ncFocusChild != null) &&\r\n                    ($attributes.ncFocusChild !== '')) ? Number($attributes.ncFocusChild) : null;\r\n\r\n    $scope.$watch($attributes.ncFocus, (value) => {\r\n      if (value === true) {\r\n        self[PRIVATE_PROPERTIES.timeout](() => {\r\n          if (Number.isInteger(focusChild)) {\r\n            $element[0].children[focusChild].focus();\r\n          } else {\r\n            $element[0].focus();\r\n          }\r\n          focusMeModel.assign($scope, false);\r\n        }, 0);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nangular\r\n  .module(directivesModule)\r\n    .directive('ncFocus', [...NC_FOCUS_DI, ($timeout, $parse) => new NcFocus($timeout, $parse)]);\r\n"]}